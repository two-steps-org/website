import React from 'react';
import CardContainer from '../shared/CardContainer';
import { useMarqueeAnimation } from '../../../utils/animations/optimized';

const logosRow1 = [
  { title: "OpenAI", path: "M22.28 9.82a5.98 5.98 0 0 0-.52-4.91 6.05 6.05 0 0 0-6.51-2.9A6.07 6.07 0 0 0 4.98 4.18a5.98 5.98 0 0 0-4 2.9 6.05 6.05 0 0 0 .74 7.1 5.98 5.98 0 0 0 .51 4.91 6.05 6.05 0 0 0 6.51 2.9A5.98 5.98 0 0 0 13.26 24a6.06 6.06 0 0 0 5.77-4.21 5.99 5.99 0 0 0 4-2.9 6.06 6.06 0 0 0-.75-7.07z" },
  { title: "GitHub", path: "M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12" },
  { title: "Vercel", path: "M24 22.525H0l12-21.05 12 21.05z" },
  { title: "Supabase", path: "M11.9 1.036c-.015-.986-1.26-1.41-1.874-.637L.764 12.05C-.33 13.427.65 15.455 2.409 15.455h9.579l.113 7.51c.014.985 1.259 1.408 1.873.636l9.262-11.653c1.093-1.375.114-3.403-1.645-3.403h-9.642z" },
  { title: "Stripe", path: "M13.976 9.15c-2.172-.806-3.356-1.426-3.356-2.409 0-.831.683-1.305 1.901-1.305 2.227 0 4.515.858 6.09 1.631l.89-5.494C18.252.975 15.697 0 12.165 0 9.667 0 7.589.654 6.104 1.872 4.56 3.147 3.757 4.992 3.757 7.218c0 4.039 2.467 5.76 6.476 7.219 2.585.92 3.445 1.574 3.445 2.583 0 .98-.84 1.545-2.354 1.545-1.875 0-4.965-.921-7.076-2.19l-.893 5.575C4.746 22.951 7.5 24 11.279 24c2.6 0 4.732-.64 6.261-1.869 1.669-1.349 2.491-3.258 2.491-5.671 0-4.136-2.521-5.833-6.055-7.31z" },
  { title: "Google Cloud", path: "M12.19 2.38a9.344 9.344 0 0 0-9.234 6.893c.053-.02-.055.013 0 0-3.875 2.551-3.922 8.103-.247 10.702l.006-.007-.007.007a6.12 6.12 0 0 0 3.388 1.02h2.881v-2.1H6.108c-1.96 0-2.96-1.344-3.063-2.645a3.67 3.67 0 0 1 1.685-3.263l1.23-.755.303-1.396a6.908 6.908 0 0 1 5.855-5.57l.093-.01h.047A6.929 6.929 0 0 1 19.1 8.466l.625 1.677 1.733.397c1.72.414 2.88 1.983 2.88 3.754 0 1.149-.467 2.144-1.306 2.855-.84.711-1.883 1.051-2.924 1.051h-2.62v2.1h2.62c3.593 0 6.454-2.755 6.454-6.2a6.2 6.2 0 0 0-4.476-5.923A9.328 9.328 0 0 0 12.19 2.38z" },
  { title: "HubSpot", path: "M18.164 7.93V5.084a2.198 2.198 0 0 0 1.267-1.984v-.066A2.2 2.2 0 0 0 17.238.84h-.067a2.2 2.2 0 0 0-2.192 2.192v.067c0 .87.51 1.62 1.244 1.974v2.86a6.27 6.27 0 0 0-2.79 1.29l-7.385-5.75a2.58 2.58 0 0 0 .074-.614 2.576 2.576 0 1 0-2.576 2.576c.467 0 .9-.13 1.273-.35l7.244 5.636A6.276 6.276 0 0 0 11.2 13.5a6.278 6.278 0 0 0 .945 3.3l-2.345 2.346a2.11 2.11 0 0 0-.615-.1 2.14 2.14 0 1 0 2.14 2.14c0-.22-.038-.43-.1-.627l2.3-2.3a6.3 6.3 0 1 0 4.638-10.328zm-.96 9.05a3.05 3.05 0 1 1 0-6.098 3.05 3.05 0 0 1 0 6.098z" },
  { title: "Zapier", path: "M15.477 12.89l3.95-3.95a.828.828 0 0 0 0-1.168L17.23 5.573a.828.828 0 0 0-1.168 0l-3.95 3.95-3.95-3.95a.828.828 0 0 0-1.168 0L4.796 7.771a.828.828 0 0 0 0 1.168l3.95 3.95-3.95 3.95a.828.828 0 0 0 0 1.168l2.198 2.199a.828.828 0 0 0 1.168 0l3.95-3.95 3.95 3.95a.828.828 0 0 0 1.168 0l2.199-2.199a.828.828 0 0 0 0-1.168l-3.95-3.95z" },
];

const logosRow2 = [
  { title: "n8n", path: "M12.8 2.4c-.66 0-1.2.54-1.2 1.2V9L6.2 5.1c-.54-.36-1.26-.18-1.62.36s-.18 1.26.36 1.62L10.4 11l-5.46 3.9c-.54.36-.66 1.08-.36 1.62.36.54 1.08.66 1.62.36L11.6 13v5.4c0 .66.54 1.2 1.2 1.2s1.2-.54 1.2-1.2V13l5.4 3.9c.54.36 1.26.18 1.62-.36s.18-1.26-.36-1.62L15.2 11l5.46-3.9c.54-.36.66-1.08.36-1.62-.36-.54-1.08-.66-1.62-.36L14 9V3.6c0-.66-.54-1.2-1.2-1.2z" },
  { title: "Slack", path: "M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z" },
  { title: "Twilio", path: "M12 0C5.372 0 0 5.372 0 12s5.372 12 12 12 12-5.372 12-12S18.628 0 12 0zm0 20.4c-4.632 0-8.4-3.768-8.4-8.4S7.368 3.6 12 3.6s8.4 3.768 8.4 8.4-3.768 8.4-8.4 8.4zm3.6-11.4a2.4 2.4 0 1 1-4.8 0 2.4 2.4 0 0 1 4.8 0zm-6 3.6a2.4 2.4 0 1 1-4.8 0 2.4 2.4 0 0 1 4.8 0zm6 0a2.4 2.4 0 1 1-4.8 0 2.4 2.4 0 0 1 4.8 0zm-6-3.6a2.4 2.4 0 1 1-4.8 0 2.4 2.4 0 0 1 4.8 0z" },
  { title: "PostgreSQL", path: "M17.128 0a10.134 10.134 0 0 0-2.755.403l-.063.02A10.922 10.922 0 0 0 12.6.258C11.422.238 10.41.524 9.594 1 8.79.721 7.122.24 5.364.336 4.14.403 2.804.775 1.814 1.82.827 2.865.305 4.482.415 6.682c.03.607.203 1.597.49 2.879s.69 2.783 1.193 4.152c.503 1.37 1.054 2.6 1.915 3.436.43.419 1.022.771 1.72.742.49-.02.933-.235 1.315-.552.186.245.385.352.566.451a2.5 2.5 0 0 0 1.136.291 2.29 2.29 0 0 0 1.128-.206c.18-.09.34-.199.5-.326.084.179.174.348.283.498.222.303.526.583.916.678.39.096.715-.005.987-.156l.005-.002c.49-.27.86-.705 1.133-1.168l.007-.01c.075-.129.14-.261.2-.394.063.036.13.074.2.107.39.187.797.299 1.204.303a2.036 2.036 0 0 0 1.575-.74c.39-.455.623-1.04.774-1.67.15-.63.228-1.31.278-1.97.048-.66.07-1.31.105-1.88a9.674 9.674 0 0 0 1.185-3.103 9.1 9.1 0 0 0 .028-3.178C21.986 2.053 20.104.404 17.128 0z" },
  { title: "WhatsApp", path: "M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 0 1-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 0 1-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 0 1 2.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0 0 12.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 0 0 5.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 0 0-3.48-8.413z" },
  { title: "Shopify", path: "M15.337 23.979l7.216-1.561s-2.604-17.613-2.625-17.73c-.018-.116-.114-.192-.211-.192s-1.929-.136-1.929-.136-1.275-1.274-1.439-1.411c-.045-.037-.075-.058-.121-.074l-.914 21.104h.023zm-1.278-17.18l-.675 2.083s-.748-.354-1.64-.354c-1.326 0-1.393.832-1.393 1.042 0 1.146 2.986 1.585 2.986 4.273 0 2.115-1.341 3.474-3.149 3.474-2.17 0-3.278-1.351-3.278-1.351l.58-1.916s1.141.981 2.104.981c.629 0 .886-.496.886-.858 0-1.497-2.451-1.564-2.451-4.025 0-2.071 1.487-4.074 4.488-4.074 1.157 0 1.542.331 1.542.331v.394z" },
  { title: "Notion", path: "M4.459 4.208c.746.606 1.026.56 2.428.466l13.215-.793c.28 0 .047-.28-.046-.326L18.4 2.18c-.42-.326-.98-.7-2.055-.607L3.39 2.712c-.467.047-.56.28-.374.466zm.793 3.08v13.904c0 .747.373 1.027 1.214.98l14.523-.84c.841-.046.935-.56.935-1.166V6.354c0-.606-.233-.933-.747-.886l-15.177.886c-.56.047-.748.327-.748.933zm14.337.745c.093.42 0 .84-.42.888l-.7.14v10.264c-.608.327-1.168.514-1.635.514-.748 0-.935-.234-1.495-.933l-4.577-7.186v6.952l1.448.327s0 .84-1.168.84l-3.222.186c-.093-.186 0-.653.327-.746l.84-.233V9.854L7.822 9.76c-.094-.42.14-1.026.793-1.073l3.456-.233 4.764 7.279v-6.44l-1.215-.14c-.093-.514.28-.886.747-.933zM1.936 1.035l13.31-.98c1.634-.14 2.055-.047 3.082.7l4.249 2.986c.7.513.933.653.933 1.213v16.378c0 1.026-.373 1.634-1.68 1.726l-15.458.934c-.98.046-1.448-.094-1.962-.747L.745 19.3c-.56-.747-.793-1.306-.793-1.96V2.667c0-.84.374-1.54 1.354-1.632z" },
  { title: "Monday.com", path: "M2.637 10.977a2.637 2.637 0 0 1-2.282-3.95 2.637 2.637 0 0 1 3.782-.848l4.577 3.013a2.637 2.637 0 0 1-1.5 4.798 2.627 2.627 0 0 1-1.5-.467zm8.783 0a2.637 2.637 0 0 1-2.282-3.95 2.637 2.637 0 0 1 3.782-.848l4.577 3.013a2.637 2.637 0 0 1-1.5 4.798 2.627 2.627 0 0 1-1.5-.467zm8.73-3.017a2.637 2.637 0 1 1 2.637 4.564 2.637 2.637 0 0 1-2.637-4.564z" },
];

const categories = ['CRM', 'Payments', 'AI / LLM', 'Messaging', 'E-commerce', 'DevOps', 'Databases', 'Automation'];

const IntegrationCard: React.FC<{ className?: string }> = ({ className }) => {
  const enableMarquee = useMarqueeAnimation();

  return (
    <CardContainer className={className}>
      <div className="flex flex-col h-full items-center justify-center text-center min-h-0 overflow-hidden">
        {/* Header */}
        <div className="mb-4 relative z-10">
          <h3 className="bento-card-title bg-gradient-to-r from-white to-gray-400 bg-clip-text text-transparent mb-1">
            We connect to everything
          </h3>
        </div>

        {/* Visual */}
        <div className="flex-1 flex flex-col items-center justify-center w-full min-h-0 gap-6 relative">

          {/* Background Glow */}
          <div className="absolute inset-0 bg-blue-500/5 blur-3xl rounded-full pointer-events-none" />

          {/* Marquee Container */}
          <div className="flex flex-col gap-4 w-full relative z-10 mask-linear-fade">

            {/* Row 1: Left */}
            <div className="flex overflow-hidden w-full relative">
              <div className={`flex gap-3 whitespace-nowrap ${enableMarquee ? 'animate-marquee' : ''}`}>
                {[...logosRow1, ...logosRow1].map((logo, idx) => (
                  <LogoNode key={`${logo.title}-${idx}`} title={logo.title} path={logo.path} />
                ))}
              </div>
            </div>

            {/* Row 2: Right (Reverse) */}
            <div className="flex overflow-hidden w-full relative">
              <div className={`flex gap-3 whitespace-nowrap ${enableMarquee ? 'animate-marquee-reverse' : ''}`}>
                {[...logosRow2, ...logosRow2].map((logo, idx) => (
                  <LogoNode key={`${logo.title}-${idx}`} title={logo.title} path={logo.path} />
                ))}
              </div>
            </div>
          </div>

          {/* Categories */}
          <div className="flex flex-wrap justify-center gap-2 px-6 relative z-10">
            {categories.map((tag) => (
              <span key={tag} className="px-2 py-1 rounded-md bg-white/[0.03] border border-white/[0.05] text-[9px] font-mono text-gray-400 hover:bg-white/[0.06] hover:text-gray-300 transition-colors cursor-default">
                {tag}
              </span>
            ))}
          </div>
        </div>
      </div>
    </CardContainer>
  );
};

const LogoNode = ({ title, path }: { title: string; path: string }) => (
  <div 
    className="w-10 h-10 rounded-xl bg-white/[0.03] border border-white/[0.05] flex items-center justify-center flex-shrink-0 hover:bg-white/[0.08] hover:border-white/[0.1] transition-all duration-300 group cursor-default"
    title={title}
  >
    <svg viewBox="0 0 24 24" className="w-5 h-5 fill-gray-500 group-hover:fill-white transition-colors duration-300">
      <path d={path} />
    </svg>
  </div>
);

export default React.memo(IntegrationCard);